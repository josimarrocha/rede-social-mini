(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{50:function(e,n,t){e.exports=t(79)},60:function(e,n,t){},79:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(24),o=t.n(i),c=t(7),s=(t(59),t(60),t(6)),l=t(17),u=t(20),m=t(1),d=t.n(m),p=t(2),f=t(28),g=t.n(f),x=function(){var e=JSON.parse(localStorage.getItem("@midiasocial@"));return e?g.a.create({baseURL:"https://midia-social.herokuapp.com",headers:{Authorization:"".concat("bearer ".concat(e.token))}}):g.a.create({baseURL:"https://midia-social.herokuapp.com"})}(),b=function(e){var n=e.token,t=e.username,a=e.image_profile,r=e.image_profile_mini,i=e.id,o=e.email;return function(){var e=Object(p.a)(d.a.mark(function e(c){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.setItem("@midiasocial@",JSON.stringify({token:n,id:i,email:o,username:t})),c({type:"user:LOGIN_USER",payload:{id:i,username:t,email:o,image_profile:a,image_profile_mini:r,token:n}});case 2:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()},h=t(43),v=t.n(h),E=function(){return function(e){var n=v()("wss://midia-social.herokuapp.com"),t=JSON.parse(localStorage.getItem("@midiasocial@")).token;n.withJwtToken(t).connect(),e({type:"socket:INIT_SOCKET",payload:{comment:n.subscribe("comment"),answersComment:n.subscribe("AnswersComment"),friends:n.subscribe("friends")}})}},w=function(e){return function(){var n=Object(p.a)(d.a.mark(function n(t){var a,r;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.get("profile/friendsPending");case 2:a=n.sent,r=a.data,t({type:"friends:FRIENDS_PENDING",payload:{data:r,id:e}});case 5:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},O=function(e,n){return function(){var t=Object(p.a)(d.a.mark(function t(a){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"friends:FRIENDS_PENDING_IO",payload:{data:e,id:n}});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},k=function(){return function(){var e=Object(p.a)(d.a.mark(function e(n){var t,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("profile/friends");case 2:t=e.sent,a=t.data,n({type:"friends:SHOW_FRIENDS",payload:a});case 5:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()},j=function(e){return function(){var n=Object(p.a)(d.a.mark(function n(t){var a,r;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.get("profile/friend/".concat(e));case 2:a=n.sent,r=a.data,t({type:"friends:LOADING_PROFILE_FRIEND",payload:r});case 5:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},y="/rede-social-mini/images",_=t(4),N=t(5),I="1240px",P="990px",C=740,S="#E38073",L="#E38073",D="#f8f8f8",T="rgba(102, 102, 102, 0.2)",A="0.875em",R="0.717em";function z(){var e=Object(_.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  \n  .friend-img{\n    /* width: 50px; */\n    img{\n      width: 55px;\n      height: 50px;\n    }\n  }\n\n  .friend-name p{\n    width: 100%;\n    text-align: center;\n    font-weight: 500;\n    color: ",";\n    font-size: ","\n  }\n  \n"]);return z=function(){return e},e}function M(){var e=Object(_.a)(["\n  box-shadow: 1px 1px 15px #ddd;\n  width: 100%;\n  background: ",";\n\n  @media (max-width: ",") {\n   display: none;\n  }\n\n  .friends-header{\n    font-size: ",";\n    font-weight: 600;\n    text-align: center;\n    padding: 10px 0;\n    border-bottom:1px solid ","\n  }\n  .friends-content{\n    margin: 0 auto;\n  }\n  .friends-content > div{\n    padding: 5px;\n    display: flex;\n    flex-wrap: wrap;\n    \n   p{\n    width: 100%;\n    text-align: center;\n   }\n\n   a{\n    padding: 5px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 80px;\n    box-shadow: 1px 1px 5px #aaa;\n    margin-right: 5px;\n    margin-bottom: 5px;\n    flex: 1 1 25%;\n    height: 100px;\n\n    &:last-child{\n    flex: 0 1 31.5%;\n    }\n\n    &:first-child{\n      flex: 0 1 31.5%;\n    }\n   }\n  }\n"]);return M=function(){return e},e}var U=N.a.section(M(),D,P,A,T),F=N.a.div(z(),S,R),G=Object(c.b)(function(e){return{friends:e.friendsInfo.friends,userInfo:e.userInfo}})(function(e){var n=e.friends,t=e.userInfo;Object(a.useEffect)(function(){i()},[n]);var i=function(){return n.map(function(e){return t.id!==e.id&&r.a.createElement(l.b,{to:"/".concat(e.username,"/").concat(e.id),key:"friend:".concat(e.id)},r.a.createElement(F,null,r.a.createElement("div",{className:"friend-img"},e.image_profile_mini?r.a.createElement("img",{src:e.image_profile_mini,alt:""}):r.a.createElement("img",{src:"".concat(y,"/user@50.png"),alt:""})),r.a.createElement("div",{className:"friend-name"},r.a.createElement("p",null,e.name))))})};return r.a.createElement(U,null,r.a.createElement("div",{className:"friends-header"},r.a.createElement("p",null,"Amigos (",n.length,")")),r.a.createElement("div",{className:"friends-content"},r.a.createElement("div",null,n.length?i():r.a.createElement("p",null,"Nenhum amigo adicionado"))))});function B(){var e=Object(_.a)(["\n  position: fixed;\n  background: rgba(0, 0, 0, 0.7);\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n  left: 0;\n  z-index: 12;\n  overflow-x: hidden;\n\n  .preview-close{\n    position: relative;\n    right: 220px;\n    top: 50px;\n    color: white;\n    cursor: pointer;\n    i{\n      font-size: 28px;\n    }\n  }\n\n  .preview-content{\n    position: relative;\n    width: 100%;\n    margin: 100px auto;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    img{\n      margin: 0 auto;\n      max-width: 100%;\n      max-height: 600px;\n    }\n  }\n\n  .btn-actions{\n    position: relative;\n    left: 0; \n    margin-top: 20px;\n\n    button{\n      cursor: pointer;\n      background: ",";\n      border: 0;\n      padding: 8px;\n      color: ",";\n      font-weight: 600;\n      border-radius:2px;\n\n      &:first-child{\n        margin-right: 12px;\n      }\n    }\n    \n  }\n"]);return B=function(){return e},e}var W=N.a.div(B(),S,D),K=function(e){var n=e.abortImagePreview,t=e.imagePreview,a=e.confirmImagePreview;return r.a.createElement(W,null,r.a.createElement("div",{className:"preview-close",onClick:n},r.a.createElement("i",{className:"far fa-times-circle"})),r.a.createElement("div",{className:"preview-content"},r.a.createElement("div",{className:""},r.a.createElement("img",{src:window.URL.createObjectURL(t),alt:""})),r.a.createElement("div",{className:"btn-actions"},r.a.createElement("button",{onClick:a},"Confirmar"),r.a.createElement("button",{onClick:n},"Cancelar"))))};function H(){var e=Object(_.a)(["\n  position: absolute;\n  top: 200px;\n  right:-65%;\n  background: #f8f8f8;\n  border-radius: 5px;\n  border: 1px solid #ddd;\n  z-index: 10 !important;\n\n  @media (max-width: ",") {\n    right: 10px;\n  }\n\n  li{\n    font-size: ",";\n    cursor: pointer;\n    padding: 5px 10px;\n    border-bottom: 1px solid #ddd;\n\n    &:hover{\n      background: #ddd;\n    }\n  }\n"]);return H=function(){return e},e}var V=N.a.div(H(),C+"px",A),J=Object(c.b)(null,{updateImageUser:function(e){return function(){var n=Object(p.a)(d.a.mark(function n(t){var a,r;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.put("profile/updateImage",e);case 2:a=n.sent,r=a.data.newImage,t({type:"user:UPDATE_IMAGE_USER",payload:r});case 5:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}})(function(e){var n=e.updateImageUser,t=e.setIsMenuConfigUser,i=e.setIsUpdateNameUser,o=e.setIsUpdateDescription,c=Object(a.useState)(null),l=Object(s.a)(c,2),u=l[0],m=l[1],f=Object(a.useState)(!1),g=Object(s.a)(f,2),x=g[0],b=g[1];Object(a.useEffect)(function(){b(!!u)},[u]);var h=function(){var e=Object(p.a)(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u&&((a=new FormData).append("imageProfile",u),n(a),t(!1));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(V,{onMouseLeave:function(){return t(!1)}},x&&r.a.createElement(K,{confirmImagePreview:function(){h(),b(!1),t(!1)},abortImagePreview:function(){b(!1),t(!1),m("")},imagePreview:u}),r.a.createElement("input",{type:"file",id:"updateImageUser",onChange:function(e){var n=e.target.files;return m(n[0])},style:{display:"none"}}),r.a.createElement("ul",null,r.a.createElement("label",{htmlFor:"updateImageUser"},r.a.createElement("li",null,"Trocar foto de perfil")),r.a.createElement("li",{onClick:function(){i(!0),t(!1)}},"Alterar nome de usu\xe1rio"),r.a.createElement("li",{onClick:function(){o(!0),t(!1)}},"Alterar descri\xe7\xe3o")))});function Y(){var e=Object(_.a)(["\n  width:100%;\n  height:170px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-size:cover;\n  background-position: center;\n  background-repeat: no-repeat;\n  ","\n\n  .edit-image{\n    color: #f8f8f8;\n    float: right;\n    margin: 10px 10px 0 0;\n    font-size: 20px;\n    cursor: pointer;\n\n    &:before{\n      content: 'Trocar imagem de fundo';\n      opacity: 0;\n      margin-right: 5px;\n      font-size: 13px;\n      background-color: rgba(0, 0, 0, 0.6);\n      padding: 3px 4px;\n      transition: opacity 400ms linear;\n    }\n\n    &:hover:before{\n      opacity: 1;\n    }\n  }\n  @media (max-width: ",") {\n      background-position-y: -60px;\n      height:220px;\n      background-size: 600px ;\n  }\n  @media (min-width: 620px) {\n      background-size: cover ;\n  }\n\n"]);return Y=function(){return e},e}function $(){var e=Object(_.a)(["\n  margin-left: 300px;\n  width: calc(100% - 300px);\n  margin-bottom: 20px;\n  \n  .image-bg{\n    img{\n      width: 100%;\n      max-width: 100%;\n    }\n    @media (max-width: ",") {\n     display: none;\n    }\n  }\n"]);return $=function(){return e},e}var q=N.a.div($(),P),Q=N.a.div(Y(),function(e){return e.imageBackground&&"background-image: url(".concat(e.imageBackground,");")},P),X=function(e){var n=e.visitProfile,t=e.imageBackground,a=e.idUserLogged,i=e.idUser;return r.a.createElement(q,null,n&&r.a.createElement("div",{className:"image-bg"},r.a.createElement("img",{src:"images/tarn-nguyen-4a52btspyY8-unsplash.jpg",alt:""})),r.a.createElement(Q,{imageBackground:t,visitProfile:n},!n&&a===i&&r.a.createElement("div",{className:"edit-image"},r.a.createElement("i",{className:"far fa-edit"}))))};function Z(){var e=Object(_.a)(["\n  text-align:center;\n  position: relative;\n  z-index: 1;\n  margin-top:20px;\n  font-size:",";\n\n  @media (max-width: ",") {\n    margin-top:70px;\n    }\n\n  .user-info-username{\n    margin-bottom: 20px;\n    vertical-align: middle;\n\n    div{\n      display: flex;\n      flex-wrap: wrap;\n      input{\n        height: 30px;\n        width: 80%;\n        flex: 1 1 100%;\n      }\n    }\n  }\n  .user-info-describe p{\n    letter-spacing: 0.5px; \n    font-style: italic;\n    @media (max-width: ",") {\n      max-width: 350px;\n      margin: 0 auto;\n    }\n    span{\n      margin-left: 8px;\n      cursor: pointer;\n    }\n  }\n\n  .user-info-username .actions, .user-info-describe .actions{\n    display: flex;\n    flex: 1 1 100%;\n    justify-content: space-around;\n    align-items: center;\n    margin-top: 10px;\n    button{\n      padding: 4px 5px;\n    }\n    i{\n      color: ",";\n      font-size: 20px;\n      padding: 0px 8px;\n    } \n  }\n  .user-info-email{\n    margin-top: 20px;\n    font-weight:600;\n    font-style: italic;\n  }\n  .user-info-local{\n    margin-top: 20px;\n  }\n\n\n  .profile-status-friend{\n    display: flex;\n    justify-content: center;\n    align-items:center;\n    border: 1px solid #999;\n    padding: 5px 0;\n    margin-top: 8px;\n    color: #333;\n    font-weight:600;\n    cursor: default;\n\n    i{\n      margin-right:8px;\n      font-size:20px;\n      color: green;\n    }\n  }\n\n  .profile-rm{\n    display: block;\n    font-size: ",";\n    margin-top: 5px;\n    color: #333;\n    text-decoration: underline;\n  }\n\n  .profile-add{\n    a{\n      margin-top: 5px;\n      display: block;\n      color: ",";\n      border: 1px solid #ccc;\n      padding: 7px 0;\n      background: ",";\n    }\n    i{\n      margin-right: 8px;\n    }\n  }\n  .profile-add-cancel{\n    span{\n      margin-top: 5px;\n      display: block;\n      color: ",";\n      border: 1px solid #ccc;\n      padding: 7px 0;\n      background: ",";\n    }\n    a{\n      margin-top: 5px;\n      display: block;\n      color: ",";\n      border: 1px solid #ccc;\n      padding: 7px 0;\n      background: ",";\n    }\n    i{\n      margin-right: 8px;\n    }\n  } \n  \n"]);return Z=function(){return e},e}function ee(){var e=Object(_.a)(["\n  width: 100%;\n  position: relative;\n  z-index: 1;\n  img{\n    max-width: 100px;\n    max-height: 100px;\n    width:100%;\n    border-radius: 50%;\n    margin: 50px auto 0 auto;\n    display: block\n  }\n"]);return ee=function(){return e},e}function ne(){var e=Object(_.a)(["\n  background: ",";\n  padding: 10px;\n  border-radius: 4px;\n  box-shadow: 1px 1px 15px #ddd;\n  margin-bottom: 20px;\n  position: relative;\n\n  .menu-user-config{\n    position: absolute;\n    right: 0;\n    top: 170px;\n    cursor: pointer;\n    padding: 8px;\n    z-index: 2;\n  }\n"]);return ne=function(){return e},e}function te(){var e=Object(_.a)(["\n  max-width: 280px;\n  width:100%;\n  position: fixed;\n  z-index: 4;\n\n  @media (max-width: ",") {\n    position: relative;\n    max-width: 100%;\n  }\n"]);return te=function(){return e},e}var ae=N.a.section(te(),P),re=N.a.div(ne(),D),ie=N.a.div(ee()),oe=N.a.div(Z(),A,P,P,S,A,D,S,D,S,D,S),ce=Object(c.b)(function(e){return{userInfo:e.userInfo,profile:e.friendsInfo.friendProfile,socket:e.socket}},{updateNameUser:function(e){return function(){var n=Object(p.a)(d.a.mark(function n(t){var a,r;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.put("profile/updateName",{nameUser:e});case 2:a=n.sent,r=a.data.name,t({type:"user:UPDATE_NAME_USER",payload:r});case 5:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},loadingProfile:j,updateDescription:function(e){return function(){var n=Object(p.a)(d.a.mark(function n(t){var a,r;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.put("profile/updateDescription",{description:e});case 2:a=n.sent,r=a.data.description,t({type:"user:UPDATE_DESCRIPTION_USER",payload:r});case 5:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},friendsPendingIo:O})(function(e){var n=e.userInfo,t=e.profile,i=e.updateNameUser,o=e.visitProfile,c=e.loadingProfile,l=e.updateDescription,u=e.socket,m=Object(a.useState)(!1),f=Object(s.a)(m,2),g=f[0],b=f[1],h=Object(a.useState)(!1),v=Object(s.a)(h,2),E=v[0],w=v[1],O=Object(a.useState)(!1),k=Object(s.a)(O,2),j=k[0],_=k[1],N=Object(a.useState)(""),I=Object(s.a)(N,2),P=I[0],C=I[1],S=Object(a.useState)(""),L=Object(s.a)(S,2),D=L[0],T=L[1],A=Object(a.useState)({}),R=Object(s.a)(A,2),z=R[0],M=R[1];Object(a.useEffect)(function(){M(o?t:n),C(n.username)},[n,t]);var U=function(){var e=Object(p.a)(d.a.mark(function e(n){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.delete("/profile/friend/delete/".concat(n));case 2:return e.next=4,c(n);case 4:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),F=function(){var e=Object(p.a)(d.a.mark(function e(n){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("/profile/friend/newFriend/".concat(n));case 2:return e.next=4,c(n);case 4:u.friends.emit("pendingFriends",n);case 5:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}();return r.a.createElement(ae,null,r.a.createElement(re,null,!o&&r.a.createElement("div",{className:"menu-user-config",onClick:function(){return b(!g)}},r.a.createElement("i",{className:"fas fa-ellipsis-v"})),r.a.createElement(X,{imageBackground:"https://josimarrocha.github.io/rede-social-mini/images/tarn-nguyen-4a52btspyY8-unsplash.jpg",idUserLogged:n.id,idUser:z.id}),g&&r.a.createElement(J,{setIsMenuConfigUser:b,setIsUpdateNameUser:w,setIsUpdateDescription:_}),r.a.createElement(ie,null,z.image_profile?r.a.createElement("img",{src:z.image_profile,alt:""}):r.a.createElement("img",{src:"".concat(y,"/user@150.png"),alt:""})),r.a.createElement(oe,null,r.a.createElement("div",{className:"user-info-username"},E?r.a.createElement("div",null,r.a.createElement("input",{type:"text",defaultValue:n.name,onChange:function(e){var n=e.target.value;return C(n)}}),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{onClick:function(){P!==n.username&&(i(P),w(!1)),w(!1)}},r.a.createElement("i",{className:"fas fa-check-circle"}),"Alterar"),r.a.createElement("button",{onClick:function(){return w(!1)}},r.a.createElement("i",{className:"fas fa-window-close"}),"Cancelar"))):r.a.createElement("h3",null,z.name)),r.a.createElement("div",{className:"user-info-describe"},r.a.createElement("p",null,o?"Nenhuma descri\xe7\xe3o":z.description?z.description:!j&&r.a.createElement(r.a.Fragment,null,"Nenhuma descri\xe7\xe3o",r.a.createElement("span",{onClick:function(){return _(!0)}},r.a.createElement("i",{className:"far fa-edit"}),"Adicionar"))),j&&r.a.createElement(r.a.Fragment,null,r.a.createElement("textarea",{name:"",cols:"30",rows:"5",placeholder:"Digite uma descri\xe7\xe3o para seu perfil",defaultValue:n.description,onChange:function(e){var n=e.target.value;return T(n)}}),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{onClick:function(){D!==n.description&&(l(D),_(!1)),_(!1)}},r.a.createElement("i",{className:"fas fa-check-circle"}),"Alterar"),r.a.createElement("button",{onClick:function(){return _(!1)}},r.a.createElement("i",{className:"fas fa-window-close"}),"Cancelar")))),!o&&r.a.createElement("div",{className:"user-info-email"},r.a.createElement("p",null,n.email)),r.a.createElement("div",{className:"user-info-local"},r.a.createElement("p",null,"Brasil, S\xe3o Paulo, SP")),r.a.createElement("div",{className:"profile-status"},!0===z.isFriend&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"profile-status-friend"},r.a.createElement("i",{className:"fas fa-check-circle"})," Amigos"),r.a.createElement("a",{href:"/",className:"profile-rm",onClick:function(e){e.preventDefault(),U(z.id)}},"Desfazer amizade")),null===z.isFriend&&r.a.createElement("div",{className:"profile-add"},r.a.createElement("a",{href:"/",onClick:function(e){e.preventDefault(),F(z.id)}},r.a.createElement("i",{className:"fas fa-user-plus"}),"Adicionar aos amigos")),!1===z.isFriend&&r.a.createElement("div",{className:"profile-add-cancel"},r.a.createElement("span",{href:"/"},"Aguardando solicita\xe7\xe3o..."),r.a.createElement("a",{href:"/"},"Cancelar solicita\xe7\xe3o"))))),r.a.createElement(G,{visitProfile:o}))});function se(){var e=Object(_.a)(["\n  background: ",";\n  padding-bottom: 10px;\n  box-shadow: 1px 1px 15px #ddd;\n  margin-bottom: 20px;\n\n  .newpost-header{\n    display: flex;\n    height: 35px;\n    justify-content: space-between;\n    border-bottom: 1px solid ",";\n    padding: 0 20px;\n    align-items: center;\n\n    .newpost-up-post button{\n      outline: none;\n      background: ",";\n      border: none;\n      padding: 3px 8px 3px 8px;\n      font-size: ",";\n      font-weight: bold;\n      color: #f8f8f8;\n      cursor: pointer;\n      letter-spacing: 0.5px;\n    }\n    .newpost-up-post button.disabled{\n      background: ",";\n      cursor: not-allowed;\n      opacity: 0.5;\n    }\n  }\n\n  .post-content{\n    textarea{\n      width: 100%;\n      height: 100px;\n      border: none;\n      border-bottom: 1px solid ",";\n      outline: none;\n      padding: 10px;\n      resize: none;\n      font-size: ","\n    }\n  }\n"]);return se=function(){return e},e}var le=N.a.div(se(),D,T,S,A,L,T,A),ue=Object(c.b)(null,{createNewPost:function(e){return function(){var n=Object(p.a)(d.a.mark(function n(t){var a;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.post("post/newpost",e);case 2:a=n.sent,t({type:"posts:NEW_POST_USER",payload:a.data});case 4:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}})(function(e){var n=e.createNewPost,t=Object(a.useState)(),i=Object(s.a)(t,2),o=i[0],c=i[1],l=Object(a.useState)(),u=Object(s.a)(l,2),m=u[0],f=u[1],g=Object(a.useState)(!1),x=Object(s.a)(g,2),b=x[0],h=x[1],v=r.a.createRef();Object(a.useEffect)(function(){h(!!m)},[m]);var E=function(){var e=Object(p.a)(d.a.mark(function e(t){var a,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=t.target,o||m){e.next=4;break}return e.abrupt("return",!1);case 4:(r=new FormData).append("legend",o||""),r.append("image",m),n(r),f(""),c(""),a.reset();case 11:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),w=function(){return!(!m&&!o)};return r.a.createElement(r.a.Fragment,null,b&&r.a.createElement(K,{confirmImagePreview:function(){h(!1),v.current.focus()},abortImagePreview:function(){h(!1),f("")},imagePreview:m}),r.a.createElement(le,null,r.a.createElement("form",{action:"",onSubmit:E},r.a.createElement("div",{className:"newpost-header"},r.a.createElement("div",{className:"newpost-up-img"},r.a.createElement("label",{htmlFor:"input"},r.a.createElement("i",{className:"fas fa-camera"})),r.a.createElement("input",{type:"file",name:"inputImage",id:"input",style:{display:"none"},onChange:function(e){var n=e.target.files;return f(n[0])}})),r.a.createElement("div",{className:"newpost-up-post"},r.a.createElement("button",{disabled:!w(),className:w()?"":"disabled"},"Publicar"))),r.a.createElement("div",{className:"post-content"},r.a.createElement("textarea",{ref:v,name:"legend",cols:"30",rows:"10",onChange:function(e){var n=e.target.value;return c(n)}})))))}),me=function(e,n){return function(){var t=Object(p.a)(d.a.mark(function t(a){var r,i;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=7;break}return t.next=3,x.get("post/comment/reply/".concat(e,"/1"));case 3:r=t.sent,i="commentsAnswered",t.next=11;break;case 7:return t.next=9,x.get("post/comment/".concat(e,"/1"));case 9:r=t.sent,i="comments";case 11:r.data[0].data.length>0&&a({type:"comment:SHOW_COMMENT_POST",payload:{post_id:e,comments:r.data[0],where:i}});case 12:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},de=function(e,n,t){return function(a){a({type:"comment:ADD_COMMENT_POST",payload:{comment:n,where:t?"commentsAnswered":"comments",id:e}})}};function pe(){var e=Object(_.a)(["\n  display: flex;\n  margin-bottom: 5px;\n  position: relative;\n\n  .img-user{\n    margin-right:  ",";\n\n    img{\n      max-width: ",";\n      max-height: ","\n    }\n  }\n\n  .user-profile{\n    .repost-post{\n      padding: 3px;\n      background: #e4e5ee;\n      border-radius: 6px;\n      b{\n        padding-left:5px;\n      }\n      .user-comment-post{\n        padding: 5px;\n      }\n\n      .options-comment{\n        position: absolute;\n        right: 10px;\n        cursor: pointer;\n        top: 15px;\n      }\n      .options{\n        position: absolute;\n        font-size: 14px;\n        background: #f8f8f8;\n        border-radius: 5px;\n        top: 16px;\n        left: -65px;\n        border: 1px solid #ddd;\n        padding: 5px 8px;\n        cursor:pointer;\n\n        &:hover{\n          background: #f0f0f0\n        }\n      }\n    }\n\n    .comments-actions{\n      margin-bottom: 8px;\n      margin-top: 3px;\n\n      span{\n        margin-left: 5px;\n        margin-right: 5px;\n      }\n      b{\n        background: #dddfdd;\n        border-radius: 6px;\n        text-align:center;\n        padding: 0 5px;\n        color: #666;\n        cursor: pointer;\n\n        &.activeLike{\n          color: ",";\n        }\n      }\n    }\n  }\n"]);return pe=function(){return e},e}var fe=N.a.div(pe(),function(e){return e.answer?"10px":"8px"},function(e){return e.answer?"35px":"100%"},function(e){return e.answer?"35px":"100%"},S),ge=Object(c.b)(null,{deleteComment:function(e,n){return function(){var t=Object(p.a)(d.a.mark(function t(a){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.delete("post/delete/comment/".concat(n));case 2:a({type:"comment:DELETE_COMMENT_POST",payload:{id:n,postId:e}});case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},deleteReplyComment:function(e,n){return function(){var t=Object(p.a)(d.a.mark(function t(a){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.delete("post/delete/comment/reply/".concat(n));case 2:a({type:"comment:DELETE_COMMENT_REPLY",payload:{id:n,idComment:e}});case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})(function(e){var n=e.comment,t=e.userId,i=e.postId,o=e.removeLike,c=e.addLike,l=e.children,u=e.answer,m=e.idCommentPrincipal,d=e.deleteComment,p=e.deleteReplyComment,f=Object(a.useState)(!1),g=Object(s.a)(f,2),x=g[0],b=g[1];return r.a.createElement(fe,{answer:u},r.a.createElement("div",{className:"img-user"},n.image_profile_mini?r.a.createElement("img",{className:"img",src:n.image_profile_mini,alt:""}):r.a.createElement("img",{src:"images/user@50.png",alt:""})),console.log(n),r.a.createElement("div",{className:"user-profile"},r.a.createElement("div",{className:"repost-post"},n.user_id===t&&r.a.createElement("div",{className:"options-comment"},r.a.createElement("i",{className:"fas fa-ellipsis-v",onClick:function(){return b(!x)}}),x&&r.a.createElement("ul",{className:"options",onClick:function(){u?p(m,n.comment_id):d(i,n.comment_id),b(!x)}},r.a.createElement("li",null,"Excluir"))),r.a.createElement("b",null,n.name),r.a.createElement("div",{className:"user-comment-post"},r.a.createElement("p",null,n.comment))),r.a.createElement("div",{className:"comments-actions"},r.a.createElement("i",{className:"fas fa-thumbs-up"},r.a.createElement("span",null,n.likes," - ")),r.a.createElement("b",{className:"".concat(!!n.numberLikes&&n.numberLikes.some(function(e){return e.user_id===t})&&"activeLike"),onClick:function(){n.numberLikes.some(function(e){return e.user_id===t})?o(i,n.comment_id,t,u,m):c(i,n.comment_id,u,m)}},"Gostei")),l))});function xe(){var e=Object(_.a)(["\n  width: 100%;\n  display: flex;\n  \n  .img-user-logged{\n    flex: 1;\n    margin-right:  ",";\n    margin-right: 5px;\n    img{\n      max-width: ",";\n      max-height: ","\n    }\n  }\n  form{\n    flex: 8;\n    textarea{\n      border-radius: 5px;\n      border:none;\n      border: 1px solid #ddd;\n      width: 100%;\n      min-height: 33px;\n      resize: vertical;\n      padding: 5px;\n    }\n  }\n"]);return xe=function(){return e},e}var be=N.a.div(xe(),function(e){return e.answer?"-6px":"3px"},function(e){return e.answer?"35px":"100%"},function(e){return e.answer?"35px":"100%"}),he=function(e){var n=e.textareaRef,t=e.addComment,a=e.imageProfile,i=e.isAnswer,o=e.commentId;return r.a.createElement(be,{answer:i},r.a.createElement("div",{className:"img-user-logged"},a?r.a.createElement("img",{className:"img",src:a,alt:""}):r.a.createElement("img",{src:"images/user@50.png",alt:""})),r.a.createElement("form",{action:""},r.a.createElement("textarea",{ref:n,rows:"2",cols:"50",placeholder:"Escreva um coment\xe1rio",onKeyPress:function(e){return t(e,{isAnswer:i,commentId:o})},onInput:function(e){n.current.scrollHeight>n.current.offsetHeight&&(n.current.rows+=1)}}),r.a.createElement("span",null,r.a.createElement("button",{type:"button",onClick:function(e){return t(e,{isAnswer:i,commentId:o})}},"Enviar"))))};function ve(){var e=Object(_.a)(["\n  display: flex;\n  margin-bottom: 5px;\n\n  .img-user{\n    margin-right: 8px;\n  }\n\n  .user-profile{\n    .repost-post{\n      padding: 3px;\n      background: #e4e5ee;\n      border-radius: 6px;\n      b{\n        padding-left:5px;\n      }\n      .user-comment-post{\n        padding: 5px;\n      }\n    }\n\n    .comments-actions{\n      margin-bottom: 8px;\n      margin-top: 3px;\n\n      span{\n        margin-left: 5px;\n        margin-right: 5px;\n      }\n      b{\n        background: #dddfdd;\n        border-radius: 6px;\n        text-align:center;\n        padding: 0 5px;\n        color: #666;\n        cursor: pointer;\n\n        &.activeLike{\n          color: ",";\n        }\n      }\n    }\n  }\n"]);return ve=function(){return e},e}function Ee(){var e=Object(_.a)(["\n  width: 100%;\n  background: #f8f8f8;\n\n  .comment-content{\n    padding: 5px;\n    display: flex;\n    flex-direction: column;\n    font-size: 13px;\n    letter-spacing: 0.3px;\n\n    img.img{\n      width: 45px;\n      height: 45px;\n    }\n\n    .more-comments{\n      display: block;\n      color: #333;\n      text-decoration: underline;\n      width: 100%;\n      margin-bottom: 5px;\n      text-align: center;\n    }\n  }\n"]);return Ee=function(){return e},e}var we=N.a.div(Ee()),Oe=(N.a.div(ve(),S),Object(c.b)(function(e){return{comments:e.comments.comments,answersComments:e.comments.commentsAnswered,userInfo:e.userInfo}},{addNewComment:de,showCommentPost:me,addLikeComment:function(e,n,t){var a=e.post_id,r=e.comment_id;return function(){var e=Object(p.a)(d.a.mark(function e(i){var o,c,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=8;break}return e.next=3,x.post("post/comment/reply/like",{post_id:a,comment_id:r});case 3:o=e.sent,c="commentsAnswered",s=t,e.next=13;break;case 8:return e.next=10,x.post("post/comment/like",{post_id:a,comment_id:r});case 10:o=e.sent,c="comments",s=o.data.like.post_id;case 13:i({type:"comment:ADD_LIKE_COMMENT",payload:{data:o.data,id:s,where:c}});case 14:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()},removeLikeComment:function(e,n,t){var a=e.post_id,r=e.comment_id,i=e.user_id;return function(){var e=Object(p.a)(d.a.mark(function e(o){var c,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n){e.next=8;break}return e.next=4,x.delete("/post/comment/reply/like/".concat(a,"/").concat(r));case 4:c="commentsAnswered",s=t,e.next=12;break;case 8:return e.next=10,x.delete("/post/comment/like/".concat(a,"/").concat(r));case 10:c="comments",s=a;case 12:o({type:"comment:REMOVE_LIKE_COMMENT",payload:{where:c,id:s,comment_id:r,user_id:i}}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}},e,null,[[0,15]])}));return function(n){return e.apply(this,arguments)}}()},viewMoreComments:function(e,n,t){return function(){var a=Object(p.a)(d.a.mark(function a(r){var i,o;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!t){a.next=7;break}return a.next=3,x.get("post/comment/reply/".concat(n,"/").concat(e));case 3:i=a.sent,o="commentsAnswered",a.next=11;break;case 7:return o="comments",a.next=10,x.get("post/comment/".concat(n,"/").concat(e));case 10:i=a.sent;case 11:r({type:"comments:MORE_COMMENTS",payload:{comments:i.data[0],id:n,where:o}});case 12:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()}})(function(e){var n=e.showCommentPost,t=e.comments,a=e.answersComments,i=e.postId,o=e.userInfo,c=e.addLikeComment,s=e.removeLikeComment,l=e.viewMoreComments,u=e.emitComment,m=r.a.createRef(),f=r.a.createRef(),g=function(){var e=Object(p.a)(d.a.mark(function e(n,t){var a,r,o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.isAnswer,r=t.commentId,13===n.charCode&&""!==n.target.value.replace(/\s+/g,"")&&(o={post_id:i,comment_id:r,comment:n.target.value,image_comment:"imagem"},a?u.answersComment.emit("newAnswersComment",o):u.comment.emit("newComment",o),n.target.value=n.target.value.replace(/(.|\s|\n)*/g,""));case 2:case"end":return e.stop()}},e)}));return function(n,t){return e.apply(this,arguments)}}(),x=function(e,n,t,a){c({post_id:e,comment_id:n},t,a)},b=function(e,n,t,a,r){s({post_id:e,comment_id:n,user_id:t},a,r)},h=function(e,n,t){e<n&&l(++e,t)},v=function(){var e=Object(p.a)(d.a.mark(function e(n,t,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n<t)){e.next=4;break}return n++,e.next=4,l(n,a,!0);case 4:case"end":return e.stop()}},e)}));return function(n,t,a){return e.apply(this,arguments)}}(),E=function(e,n,t,a){return r.a.createElement("a",{href:"/",onClick:function(r){r.preventDefault(),a(e,n,t)},className:"more-comments"},r.a.createElement("b",null,"Ver comentarios anteriores"))};return r.a.createElement(we,null,r.a.createElement("div",{className:"comment-content"},Object.keys(t).length>0&&Object.keys(t).map(function(e,c){var s=t[e],l=s.page,u=s.lastPage,m=s.data;return r.a.createElement("div",{key:"postId:".concat(c)},+e===i&&l!==u&&E(l,u,i,h),m.map(function(e,t){if(e.post_id===i)return r.a.createElement(ge,{key:"comment:".concat(t),addLike:x,removeLike:b,userId:o.id,postId:i,comment:e},+e.replys>0&&r.a.createElement("a",{href:"/",id:"answers:".concat(e.comment_id),onClick:function(t){t.preventDefault(),n(e.comment_id,!0),document.getElementById("answers:".concat(e.comment_id)).remove()},className:"more-comments"},r.a.createElement("b",null,"Ver respostas")),(c=e.comment_id,e.replys,Object.keys(a).map(function(e,n){var t=a[e],s=t.page,l=t.lastPage,u=t.data;return r.a.createElement("div",{key:"answerComment:".concat(n)},+e===c&&s!==l&&E(s,l,c,v),u.map(function(e,n){if(e.id===c)return r.a.createElement(ge,{key:"replys:".concat(n),addLike:x,removeLike:b,userId:o.id,postId:i,idCommentPrincipal:c,comment:e,answer:!0})}))})),r.a.createElement(he,{addComment:g,imageProfile:o.image_profile_mini,textareaRef:f,isAnswer:!0,commentId:e.comment_id}));var c}))}),r.a.createElement(he,{addComment:g,imageProfile:o.image_profile_mini,textareaRef:m})))}));function ke(){var e=Object(_.a)(["\n  width: 100%;\n  background: ",";\n  box-shadow: 1px 1px 15px #ddd;\n  margin-bottom: 10px;\n\n  .content{\n    padding: 10px;\n  }\n\n  .header-post{\n    border-bottom:1px solid ",";\n    padding-bottom:5px;\n    position: relative;\n    .options-post{\n      position: absolute;\n      right: 10px;\n      cursor: pointer;\n    }\n    .options{\n      position: absolute;\n      font-size: ",";\n      background: #f8f8f8;\n      border-radius: 5px;\n      left: -60px;\n      border: 1px solid #ddd;\n      padding: 5px 8px;\n      cursor:pointer;\n\n      &:hover{\n        background: #f0f0f0\n      }\n    }\n  }\n  .post-user{\n    display: flex;\n    font-size: ",";\n    \n    img{\n      max-width: 100%;\n      width: 50px;\n      max-height: 60px;\n    }\n    .post-user-info{\n      margin-top:8px;\n      margin-left: 10px;\n      label{\n        display: block;\n        font-weight: 550;\n      }\n      .post-user-hour{\n        font-size: 12px;\n        color: #999;\n        font-weight: normal;\n        margin-top: 5px;\n      }\n    }\n  }\n\n  .post-user-content{\n    margin-top:10px;\n    font-size: ",";\n    \n    .post-user-legend{\n      letter-spacing: 0.5px;\n      margin-bottom: 10px;\n    }\n    .post-user-image{\n      width: 100%;\n      img{\n        width: 100%;\n        max-width: 100%;\n      }\n    }\n  }\n\n  .btn-actions{\n    display: flex;\n    width: 100%;\n    text-align: center;\n    border-top: 1px solid ",";\n\n    .btn{\n      flex: 1;\n      padding:10px;\n      cursor: pointer;\n      font-weight: 600;\n      font-size: ",";\n      color: #666;\n    }\n    .btn.like{\n      background: ",";\n      color: ","\n    }\n    .btn.like:hover{\n      background: ",";\n      color: ","\n    }\n    .btn:hover{\n      background: #ddd;\n    }\n    .btn:first-child{\n      border-right: 1px solid ",";\n    }\n  }\n"]);return ke=function(){return e},e}var je=N.a.article(ke(),D,T,A,A,A,T,A,S,D,S,D,T),ye=Object(c.b)(function(e){return{userInfo:e.userInfo,comments:e.comments.comments}},{addLikePost:function(e){return function(){var n=Object(p.a)(d.a.mark(function n(t){var a;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.post("post/like",{post_id:e});case 2:a=n.sent,t({type:"posts:ADD_LIKE_POST",payload:a.data});case 4:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},removeLikePost:function(e){var n=e.post_id,t=e.user_id;return function(){var e=Object(p.a)(d.a.mark(function e(a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.delete("post/like/".concat(n));case 3:a({type:"posts:REMOVE_LIKE_POST",payload:{post_id:n,user_id:t}}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(n){return e.apply(this,arguments)}}()},showCommentPost:me,deletePost:function(e){return function(){var n=Object(p.a)(d.a.mark(function n(t){return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.delete("/post/delete/".concat(e));case 2:t({type:"posts:DELETE_POST",payload:e});case 3:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}})(function(e){var n=e.post,t=e.addLikePost,i=e.removeLikePost,o=e.userInfo,c=e.showCommentPost,l=e.deletePost,u=e.emitComment,m=Object(a.useState)(!1),f=Object(s.a)(m,2),g=f[0],x=f[1],b=Object(a.useState)(!1),h=Object(s.a)(b,2),v=h[0],E=h[1],w=function(){var e=Object(p.a)(d.a.mark(function e(n){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(n);case 2:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(je,null,r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header-post"},o.id===n.user_id&&r.a.createElement("div",{className:"options-post"},r.a.createElement("i",{className:"fas fa-ellipsis-v",onClick:function(){return E(!v)}}),v&&r.a.createElement("ul",{className:"options",onClick:function(){return l(n.id)}},r.a.createElement("li",null,"Excluir"))),r.a.createElement("div",{className:"post-user"},n.image_profile_mini?r.a.createElement("img",{src:n.image_profile_mini,alt:""}):r.a.createElement("img",{src:"images/user@50.png",alt:""}),r.a.createElement("div",{className:"post-user-info"},r.a.createElement("label",null,n.name),r.a.createElement("label",{className:"post-user-hour"},new Date(n.data_post).toLocaleTimeString().split(/:\b\d+\b$/g)[0])))),r.a.createElement("div",{className:"post-user-content"},r.a.createElement("p",{className:"post-user-legend"},n.legend?n.legend:""),r.a.createElement("div",{className:"post-user-image"},r.a.createElement("img",{src:n.pathImage,alt:""}))),r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-thumbs-up"}," ",n.likes))),r.a.createElement("div",{className:"btn-actions"},r.a.createElement("a",{href:"/",className:"btn ".concat(n.usersLikesPost.some(function(e){return e.user_id===o.id})?"like":""),onClick:function(e){e.preventDefault();var a={post_id:n.id,user_id:o.id};n.usersLikesPost.some(function(e){return e.user_id===o.id})?i(a):t(n.id)}},"Gostei"),r.a.createElement("a",{href:"/",className:"btn",onClick:function(e){e.preventDefault(),w(n.id),x(!0)}},"Coment\xe1rios")),u&&r.a.createElement(Oe,{postId:n.id,emitComment:u,showComment:g})))});function _e(){var e=Object(_.a)(["\n  max-width: 500px;\n  width: 100%;\n  display: inline-block;\n  margin-left: 300px;\n  margin-right: 10px;\n  padding-bottom: 10px;\n  border-radius: 4px;\n\n  @media (max-width: ",") {\n      display: flex;\n      flex-direction: column;\n      margin: 0 auto;\n    }\n"]);return _e=function(){return e},e}var Ne=N.a.section(_e(),P),Ie=Object(c.b)(function(e){return{posts:e.initialDataProfile.posts,socket:e.socket}},{addNewComment:de})(function(e){var n=e.visitProfile,t=e.socket,i=e.addNewComment,o=e.posts,c=Object(a.useState)(),l=Object(s.a)(c,2),u=l[0],m=l[1];return Object(a.useEffect)(function(){var e=t.comment,n=t.answersComment;m({comment:e,answersComment:n}),e&&e.on("newComment",function(){var e=Object(p.a)(d.a.mark(function e(n){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n[0].post_id,e.next=3,i(t,n[0]);case 3:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()),n&&n.on("newAnswersComment",function(){var e=Object(p.a)(d.a.mark(function e(n){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n[0].id,e.next=3,i(t,n[0],!0);case 3:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}())},[]),r.a.createElement(Ne,null,!n&&r.a.createElement(ue,null),o.map(function(e,n){return r.a.createElement(ye,{key:"post:".concat(e.pathImage).concat(n),emitComment:u,post:e})}))});function Pe(){var e=Object(_.a)(["\n  max-width: ",";\n  margin: 60px auto;\n  padding: 0 10px;\n  position: relative;\n"]);return Pe=function(){return e},e}var Ce=N.a.div(Pe(),I),Se=Object(c.b)(null,{showPostsTimeline:function(){return function(){var e=Object(p.a)(d.a.mark(function e(n){var t,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("post/timeline");case 2:t=e.sent,a=t.data,n({type:"posts:SHOW_POSTS_TIMELINE",payload:{posts:a[0].data}});case 5:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()},loginUser:b,showFriends:k,friendsPending:w,loadingProfile:function(e,n){return function(){var n=Object(p.a)(d.a.mark(function n(t){var a,r;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.get("userProfile/".concat(e));case 2:a=n.sent,r=a.data,t({type:"user:LOADING_PROFILE",payload:r[0]});case 5:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},initSocket:E})(function(e){var n=e.showPostsTimeline,t=e.showFriends,i=e.friendsPending,o=e.loadingProfile;return Object(a.useEffect)(function(){!function(){var e=Object(p.a)(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=JSON,e.next=3,localStorage.getItem("@midiasocial@");case 3:if(e.t1=e.sent,!(a=e.t0.parse.call(e.t0,e.t1)).token){e.next=14;break}return e.next=8,i();case 8:return e.next=10,o(a.id);case 10:return e.next=12,n();case 12:return e.next=14,t();case 14:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]),r.a.createElement(Ce,null,r.a.createElement(ce,null),r.a.createElement(Ie,null))}),Le=Object(c.b)(null,{loadingProfile:j,postsByUser:function(e){return function(){var n=Object(p.a)(d.a.mark(function n(t){var a,r;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.get("post/profile/".concat(e));case 2:a=n.sent,r=a.data,t({type:"posts:POSTS_BY_USER",payload:r});case 5:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}})(function(e){var n=e.loadingProfile,t=e.match.params,i=e.postsByUser;return Object(a.useEffect)(function(){!function(){var e=Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i(t.id),n(t.id);case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[t.id]),r.a.createElement(Ce,null,r.a.createElement(ce,{visitProfile:!0}),r.a.createElement(X,{visitProfile:!0}),r.a.createElement(Ie,{visitProfile:!0}))}),De=function(){return r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:Se}),r.a.createElement(u.a,{exact:!0,path:"/:username/:id",component:Le}))};function Te(){var e=Object(_.a)(["\n    overflow-y: auto;\n    max-height: 300px;\n    display: flex;\n    flex-direction: column;\n\n    p{\n      text-align: center;\n      padding: 5px 0;\n    }\n\n  .pending-friends{\n    display: flex;\n    padding:5px 5px 10px 5px;\n    justify-content:space-between;\n    margin-bottom: 5px;\n    border-top:1px solid ",";\n    width: 100%;\n  }\n\n  .img-friend{\n    flex: 1;\n  }\n  \n  .pending-friend{\n    margin-left: 10px;\n    display: flex;\n    flex:3;\n    flex-direction: column;\n\n    p.friend-name{\n      text-align: left;\n      font-size: ",";\n      font-weight: 600;\n      align-self: flex-start;\n      /* word-break:break-all; */\n    }\n\n    .actions{\n      margin-top: 15px;\n\n      button{\n        margin-right: 5px;\n        background: ",";\n        border:none;\n        outline: none;\n        padding: 5px 6px;\n        border-radius: 2px;\n        font-weight: 500;\n        letter-spacing: .7px;\n        color: ",";\n        font-size: ",";\n        cursor: pointer;\n      }\n    }\n  }\n"]);return Te=function(){return e},e}function Ae(){var e=Object(_.a)(["\n  box-shadow: 1px 1px 15px #ddd;\n  width: 100%;\n  background: ",";\n  max-width: 280px;\n  position: absolute;\n  top: 40px;\n  left:15px;\n  color: #333;\n  display: flex;\n  flex-direction: column;\n  z-index: 5;\n\n  &::before{\n    content: '';\n    position: absolute;\n    width: 15px;\n    height: 15px;\n    background: ",";\n    left: 105px;\n    top: -5px;\n    transform: rotate(45deg)\n  }\n\n  .pending-friends-header{\n    font-size: ",";\n    font-weight: 600;\n    text-align: center;\n    padding: 10px 0;\n  }\n"]);return Ae=function(){return e},e}var Re=N.a.div(Ae(),D,D,A),ze=N.a.div(Te(),T,A,S,D,A),Me=Object(c.b)(function(e){return{userInfo:e.userInfo,friendsInfo:e.friendsInfo.friendsPending}},{friendsPending:w,confirmFriend:function(e){return function(){var n=Object(p.a)(d.a.mark(function n(t){var a,r;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.put("profile/addfriendsPending",{friend_id:e});case 2:a=n.sent,r=a.data.user_id,t({type:"friends:CONFIRM_FRIEND",payload:r});case 5:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},showFriends:k})(function(e){e.userInfo,e.setIsModalFriendsPending;var n=e.friendsPending,t=e.friendsInfo,i=e.confirmFriend,o=e.showFriends;Object(a.useEffect)(function(){n()},[]);var c=function(){var e=Object(p.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t);case 2:return e.next=4,n();case 4:return e.next=6,o();case 6:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}();return r.a.createElement(Re,null,r.a.createElement("div",{className:"pending-friends-header"},r.a.createElement("p",null,"Amigos pendentes")),r.a.createElement(ze,null,t.length?t.map(function(e){return r.a.createElement("div",{className:"pending-friends",key:"friendPending:".concat(e.friend_id)},r.a.createElement("div",{className:"img-friend"},e.image_profile_mini?r.a.createElement("img",{src:"http://localhost:3333/imageProfile/".concat(e.image_profile_mini),alt:""}):r.a.createElement("img",{src:"/images/user@50.png",alt:""})),r.a.createElement("div",{className:"pending-friend"},r.a.createElement("p",{className:"friend-name"},e.name),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{onClick:function(){return c(e.friend_id)}},"Adicionar"),r.a.createElement("button",null,"Remover"))))}):r.a.createElement("p",null,"Nenhuma amizade pendente")))});function Ue(){var e=Object(_.a)(["\n  position: relative;\n  form {\n    position: relative;\n    margin-left: 15rem;\n    flex: 2;\n\n    @media (max-width: ",") {\n      margin-left: 10rem;\n    }\n\n    @media (max-width: ",") {\n      margin-left: 0rem\n    }\n    \n    .form-input{\n      border: none;\n      border-radius: 4px;\n      height: 25px;\n      outline: none;\n      padding-left: 5px;\n      width: 20rem;\n      font-size: ","; \n      @media (max-width: ",") {\n        width: 20rem;\n        height: 35px;\n        border-bottom: 1px solid #aaa;\n\n      }\n    }\n  }\n\n  .result-list{\n    background: ",";\n    right: 0;\n    top: 26px;\n    position: absolute;\n    width: 20rem;\n    box-shadow: 0px 1px 5px #666;  \n    ul{\n      width: 100%;\n    }\n\n    li{\n      display: flex;\n      color: #333;\n      padding: 3px 5px 3px 5px;\n      border-bottom: 1px solid #ddd;\n      cursor: pointer;\n\n      &:hover{\n        background: #ddd;\n      }\n\n      span{\n        width: 35px;\n        margin-right: 10px;\n        img{\n          max-width: 100%;\n        }\n      }\n\n      b{\n        font-size: ","\n      }\n    }\n  }\n"]);return Ue=function(){return e},e}var Fe=N.a.div(Ue(),P,C+"px",A,C+"px",D,A),Ge=Object(c.b)(function(e){return{search:e.search}},{searchProfile:function(e){return function(){var n=Object(p.a)(d.a.mark(function n(t){var a,r;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.get("search=".concat(e));case 2:a=n.sent,r=a.data,t({type:"search:SEARCH_PROFILE",payload:r});case 5:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}})(function(e){var n=e.search,t=e.searchProfile,i=e.mobile,o=Object(a.useState)(!1),c=Object(s.a)(o,2),u=c[0],m=c[1],d=Object(a.useState)(""),p=Object(s.a)(d,2),f=p[0],g=p[1];return r.a.createElement(Fe,{mobile:i},r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},r.a.createElement("input",{type:"text",autoComplete:"off",onChange:function(e){if(g(e.target.value),e.target.value){var n=JSON.parse(localStorage.getItem("@midiasocial@"));return t(e.target.value,n.token),m(!0),!0}m(!1)},value:f,className:"form-input",name:"search",placeholder:"Pesquisar usu\xe1rio"})),u&&r.a.createElement("div",{className:"result-list"},r.a.createElement("ul",null,n.map(function(e){return r.a.createElement(l.b,{to:"".concat(e.username,"/").concat(e.id),key:"profile:".concat(e.id)},r.a.createElement("li",{onClick:function(){m(!1),g("")}},r.a.createElement("span",null,e.image_profile_mini?r.a.createElement("img",{src:e.image_profile_mini,alt:""}):r.a.createElement("img",{src:"".concat(y,"/user@50.png"),alt:""})),r.a.createElement("b",null,e.username)))}))))});function Be(){var e=Object(_.a)(["\n  flex: 2;\n  position: relative;\n  \n  .menu-content{\n    display: none !important;\n    position: relative;\n\n    .icon-menu{\n      padding: 8px;\n    }\n\n    @media (max-width: ",") {\n      display: block !important;\n      position: absolute;\n      right: 10px;\n      font-size: 20px;\n    }\n    \n    .menu-list{\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      font-size: ",";\n      color: ",";\n      background: #fff;\n      box-shadow: 0 2px 5px #666;\n      position: absolute;\n      z-index: 20;\n      top: 33px;\n      right: -15px;\n    }  \n    .menu-item{\n      background: ",";\n      text-transform: uppercase;\n      font-weight: 600;\n      text-align: center;\n      border-bottom: 1px solid #ccc;\n      font-size: ",";\n      padding: 10px 0;\n      width: 100%;\n    }\n  }\n"]);return Be=function(){return e},e}var We=N.a.div(Be(),P,A,D,S,A),Ke=function(){var e=Object(a.useState)(!1),n=Object(s.a)(e,2),t=n[0],i=n[1];return r.a.createElement(We,null,r.a.createElement("div",{className:"menu-content"},r.a.createElement("span",{className:"icon-menu",onClick:function(){return i(!t)}},r.a.createElement("i",{className:"fas fa-bars"})),t&&r.a.createElement("div",{className:""},r.a.createElement("ul",{className:"menu-list"},r.a.createElement("li",null,r.a.createElement(Ge,null)),r.a.createElement("li",{className:"menu-item"},"Ver amigos"),r.a.createElement("li",{className:"menu-item",onClick:function(){localStorage.removeItem("@midiasocial@"),window.location.reload()}},"Sair")))))};function He(){var e=Object(_.a)(["\n  background-color: ",";\n  position: fixed;\n  width: 100%;\n  top: 0;\n  box-shadow: 1px 1px 5px #999;\n  z-index:6;\n\n  .header-content{\n    max-width: ",";\n    height: 40px;\n    display: flex;\n    margin: 0 auto;\n    align-items: center;\n    color: #f8f8f8;\n    padding: 0 10px;\n    position: relative;\n\n    div{\n      display: flex;\n      align-items: center;\n\n      .header-logo{\n        margin-right: 30px;\n\n        a{\n          color: ",";\n        }\n      }\n      span i{\n        font-size:20px;\n        position: relative;\n        text-align:center;\n        cursor: pointer;\n      }\n      span b{\n        padding-top: 2px;\n        position: absolute;\n        background: #333;\n        border-radius: 50%;\n        width: 18px;\n        color: #f8f8f8;\n        height: 18px;\n        font-size: 13px;\n        top: -5px;\n      }\n    }\n    .logout{\n      position: absolute;\n      right: 10px;\n      cursor: pointer;\n\n      @media (max-width: ",") {\n        display: none;\n      }\n    }\n  }\n"]);return He=function(){return e},e}var Ve=N.a.header(He(),S,I,D,C+"px"),Je=Object(c.b)(function(e){return{pendingFriends:e.friendsInfo.friendsPending,userInfo:e.userInfo,socket:e.socket}},{friendsPendingIo:O})(function(e){var n=e.pendingFriends,t=e.userInfo,i=e.socket,o=e.friendsPendingIo,c=Object(a.useState)(!1),u=Object(s.a)(c,2),m=u[0],d=u[1],p=Object(a.useState)(!0),f=Object(s.a)(p,2),g=f[0],x=f[1];Object(a.useEffect)(function(){i.friends&&i.friends.on("pendingFriends",function(e){o(e)}),window.innerWidth<=C?x(!0):x(!1)},[]),window.addEventListener("resize",function(e){e.path[0].innerWidth<=C?x(!0):x(!1)});return r.a.createElement(Ve,null,r.a.createElement("div",{className:"header-content"},r.a.createElement("div",null,r.a.createElement("div",{className:"header-logo"},r.a.createElement(l.b,{to:"/"},r.a.createElement("h2",null,"REDE"))),r.a.createElement("span",{onClick:function(){return d(!m)}},m&&r.a.createElement(Me,{setIsModalFriendsPending:d}),r.a.createElement("i",{className:"fas fa-user-friends"},!!n.length&&r.a.createElement("b",null,n.filter(function(e){return e.friend_id!==t.id}).length)))),g?r.a.createElement(Ke,null):r.a.createElement(Ge,null),r.a.createElement("div",{className:"logout",onClick:function(){localStorage.removeItem("@midiasocial@"),window.location.reload()}},r.a.createElement("p",null,"Sair"))))});function Ye(){var e=Object(_.a)(["\n\n  .form-content{\n    display: flex;\n    align-items:center;\n    height: 100%;\n    flex-direction: column;\n    width: 100%;\n\n    .title{\n      margin-top: 50px;\n      h2{\n        font-size: 2rem;\n      }\n    }\n\n    form{\n      margin-top: 30px;\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n\n      .action{\n        margin-top: 20px;\n        font-style: italic;\n        text-decoration: underline;\n        cursor: pointer;\n      }\n    }\n\n    .message-error{\n      color:red;\n      font-size: 14px;\n      transform:translateY(10px)\n    }\n\n    .message-success{\n      font-size: 1.5rem;\n      color: rgb(62, 202, 62);\n    }\n\n    .input-group{\n      margin-top: 20px;\n      max-width: 400px;\n      width: 100%;\n      input{\n        padding: 10px;\n        width: 100%;\n      }\n    }\n\n    .btn-action{\n      margin-top: 30px;\n      width: 100%;\n      text-align:center;\n\n      .btn-auth{\n        max-width: 400px;\n        width: 100%;\n        padding: 10px 0;\n        background: ",";\n        border: none;\n        color: white;\n        font-weight: bold;\n        font-size: 18px;\n        letter-spacing: 0.5px;\n        text-transform: uppercase;\n        cursor: pointer;\n      }\n    }\n  }\n"]);return Ye=function(){return e},e}var $e=N.a.div(Ye(),S),qe=function(e){var n=e.submit,t=e.error,a=e.signUp,i=e.setIsLogin,o=e.isLogin,c=e.success;return r.a.createElement($e,null,r.a.createElement("div",{className:"form-content"},r.a.createElement("div",{className:"title"},r.a.createElement("h2",null,a?"Cadastro":"Login")),r.a.createElement("form",{action:"",onSubmit:n},r.a.createElement("p",{className:"message-error"},t),r.a.createElement("p",{className:"message-success"},c),a&&r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",name:"name",id:"",placeholder:"Digite seu nome"})),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"email",name:"email",id:"",placeholder:"Digite seu e-mail"})),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"password",name:"password",id:"",placeholder:"Digite sua senha"})),a&&r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"password",name:"confirmpassword",id:"",placeholder:"Confirme sua senha"})),r.a.createElement("div",{className:"btn-action"},r.a.createElement("button",{className:"btn-auth"},a?"Cadastrar":"Entrar")),r.a.createElement("p",{className:"action",onClick:function(){return i(!o)}},a?"Voltar para tela de login":"Ou cadastre-se"))))};function Qe(){var e=Object(_.a)(["\n  flex: 1;\n  width: 100%;\n  padding: 0 10px;\n"]);return Qe=function(){return e},e}var Xe=N.a.div(Qe()),Ze=Object(c.b)(null,{loginUser:b})(function(e){var n=e.setIsAuth,t=e.setIsLogin,i=e.isLogin,o=e.loginUser,c=Object(a.useState)(""),l=Object(s.a)(c,2),u=l[0],m=l[1],f=function(){var e=Object(p.a)(d.a.mark(function e(t){var a,r,i,c,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=t.target,r=a.email,i=a.password,""===r.value||""===i.value){e.next=17;break}return e.prev=3,e.next=6,x.post("auth/login",{email:r.value,password:i.value});case 6:return c=e.sent,s=c.data,e.next=10,o(s);case 10:n(!1),window.location.reload(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),m("Email ou senha incorretos!");case 17:case"end":return e.stop()}},e,null,[[3,14]])}));return function(n){return e.apply(this,arguments)}}();return r.a.createElement(Xe,null,r.a.createElement(qe,{submit:f,error:u,setIsLogin:t,isLogin:i}))});function en(){var e=Object(_.a)(["\n  flex: 1;\n  width: 100%;\n  padding: 0 10px;\n  position: relative;\n"]);return en=function(){return e},e}var nn=N.a.div(en()),tn=function(e){var n=e.setIsLogin,t=e.isLogin,i=Object(a.useState)(""),o=Object(s.a)(i,2),c=o[0],l=o[1],u=Object(a.useState)(""),m=Object(s.a)(u,2),f=m[0],g=m[1],b=function(){var e=Object(p.a)(d.a.mark(function e(t){var a,r,i,o,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=t.target,r=a.name,i=a.email,o=a.password,c=a.confirmpassword,!(r.value&&i.value&&o.value&&c.value)){e.next=10;break}if(o.value!==c.value){e.next=9;break}return e.next=6,x.post("auth/register",{name:r.value,email:i.value,password:o.value});case 6:return g("Cadastro realizado com sucesso!"),setTimeout(function(){n(!0)},1200),e.abrupt("return",!0);case 9:return e.abrupt("return",l("Senhas n\xe3o correspondem!"));case 10:return e.abrupt("return",l("Todos os campos s\xe3o obrigat\xf3rios!"));case 11:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}();return r.a.createElement(nn,null,r.a.createElement(qe,{submit:b,error:c,success:f,signUp:!0,setIsLogin:n,isLogin:t}))};function an(){var e=Object(_.a)(["\n  max-width: 1100px;\n  width: 100%;\n  margin: 60px auto;\n  height: 80vh;\n\n  .login-content{\n    display: flex;\n    height: 100%;\n    width: 100%;\n    box-shadow: 0 0 15px #888;\n\n    .brand{\n      width:100%;\n      background: ",";\n      flex: 1;\n\n      @media (max-width: ",") {\n        display: none;\n      }\n    }\n  }\n"]);return an=function(){return e},e}var rn=N.a.div(an(),S,P),on=function(e){var n=e.setIsAuth,t=Object(a.useState)(!0),i=Object(s.a)(t,2),o=i[0],c=i[1];return r.a.createElement(rn,null,r.a.createElement("div",{className:"login-content"},r.a.createElement("div",{className:"brand"}),o?r.a.createElement(Ze,{setIsAuth:n,setIsLogin:c,isLogin:o}):r.a.createElement(tn,{setIsLogin:c,isLogin:o})))};var cn=Object(c.b)(null,{initSocket:E})(function(e){var n=e.initSocket,t=Object(a.useState)(null),i=Object(s.a)(t,2),o=i[0],c=i[1];return Object(a.useEffect)(function(){JSON.parse(localStorage.getItem("@midiasocial@"))?(n(),c(!1)):c(!0)},[]),r.a.createElement(l.a,null,!1===o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Je,null),r.a.createElement(De,null)),!0===o&&r.a.createElement(on,{setIsAuth:c}))}),sn=t(19),ln=t(47),un=t(16),mn=t(3),dn={posts:[]},pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"posts:SHOW_POSTS_TIMELINE":return Object(mn.a)({},e,{posts:n.payload.posts});case"posts:NEW_POST_USER":return Object(mn.a)({},e,{posts:[].concat(Object(un.a)(n.payload),Object(un.a)(e.posts))});case"posts:DELETE_POST":return Object(mn.a)({},e,{posts:e.posts.filter(function(e){return e.id!==n.payload})});case"posts:POSTS_BY_USER":return Object(mn.a)({},e,{posts:Object(un.a)(n.payload)});case"posts:ADD_LIKE_POST":var t=e.posts,a=n.payload,r=a.like,i=a.likeNumbers;return Object(mn.a)({},e,{posts:t.map(function(e){return e.id===r.post_id?Object(mn.a)({},e,{likes:i,usersLikesPost:[Object(mn.a)({},r)].concat(Object(un.a)(e.usersLikesPost))}):Object(mn.a)({},e)})});case"posts:REMOVE_LIKE_POST":return Object(mn.a)({},e,{posts:e.posts.map(function(e){return e.id===n.payload.post_id?Object(mn.a)({},e,{likes:+e.likes-1,usersLikesPost:e.usersLikesPost.filter(function(e){return e.user_id!==n.payload.user_id})}):Object(mn.a)({},e)})});default:return e}},fn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"user:LOGIN_USER":return Object(mn.a)({},e,n.payload);case"user:LOADING_PROFILE":return Object(mn.a)({},n.payload);case"user:UPDATE_IMAGE_USER":return Object(mn.a)({},e,{image_profile:n.payload});case"user:UPDATE_NAME_USER":return Object(mn.a)({},e,{name:n.payload});case"user:UPDATE_DESCRIPTION_USER":return Object(mn.a)({},e,{description:n.payload});default:return e}},gn={friends:[],friendsPending:[],friendProfile:{}},xn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"friends:SHOW_FRIENDS":return Object(mn.a)({},e,{friends:n.payload});case"friends:FRIENDS_PENDING":return Object(mn.a)({},e,{friendsPending:n.payload.data});case"friends:FRIENDS_PENDING_IO":return Object(mn.a)({},e,{friendsPending:e.friendsPending.concat(n.payload.data)});case"friends:CONFIRM_FRIEND":return Object(mn.a)({},e,{friendsPending:e.friendsPending.filter(function(e){return e.friend_id!==n.payload})});case"friends:LOADING_PROFILE_FRIEND":return Object(mn.a)({},e,{friendProfile:Object(mn.a)({},n.payload[0]),friends:n.payload[0].friends});default:return e}},bn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"search:SEARCH_PROFILE":return n.payload;default:return e}},hn=t(9),vn={comments:{},commentsAnswered:{}},En=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"comment:SHOW_COMMENT_POST":return Object(mn.a)({},e,Object(hn.a)({},n.payload.where,Object(hn.a)({},n.payload.post_id,Object(mn.a)({},n.payload.comments))));case"comment:ADD_COMMENT_POST":var t=n.payload,a=t.where,r=t.id,i=t.comment;return Object(mn.a)({},e,Object(hn.a)({},a,Object(mn.a)({},e[a],Object(hn.a)({},r,Object(mn.a)({},e[a][r],{data:e[a][r]?[].concat(Object(un.a)(e[a][r].data),[i]):[i]})))));case"comment:DELETE_COMMENT_POST":var o=n.payload,c=o.id,s=o.postId;return Object(mn.a)({},e,{comments:Object(mn.a)({},e.comments,Object(hn.a)({},s,Object(mn.a)({},e.comments[s],{data:e.comments[s].data.filter(function(e){return e.comment_id!==c})})))});case"comment:DELETE_COMMENT_REPLY":var l=n.payload,u=l.idComment,m=l.id;return Object(mn.a)({},e,{commentsAnswered:Object(mn.a)({},e.commentsAnswered,Object(hn.a)({},u,Object(mn.a)({},e.commentsAnswered[u],{data:e.commentsAnswered[u].data.filter(function(e){return e.comment_id!==m})})))});case"comments:MORE_COMMENTS":var d=n.payload,p=d.id,f=d.comments,g=d.where;return Object(mn.a)({},e,Object(hn.a)({},g,Object(mn.a)({},e[g],Object(hn.a)({},p,Object(mn.a)({},f,{data:[].concat(Object(un.a)(f.data),Object(un.a)(e[g][p].data))})))));case"comment:ADD_LIKE_COMMENT":var x=n.payload.data,b=x.like,h=x.likeNumbers,v=n.payload,E=v.where,w=v.id;return Object(mn.a)({},e,Object(hn.a)({},E,Object(mn.a)({},e[E],Object(hn.a)({},w,Object(mn.a)({},e[E][w],{data:e[E][w].data.map(function(e){return e.comment_id===b.comment_id?Object(mn.a)({},e,{likes:h,numberLikes:[Object(mn.a)({},b)].concat(Object(un.a)(e.numberLikes))}):e})})))));case"comment:REMOVE_LIKE_COMMENT":var O=n.payload,k=O.comment_id,j=O.id,y=O.where,_=O.user_id;return Object(mn.a)({},e,Object(hn.a)({},y,Object(mn.a)({},e[y],Object(hn.a)({},j,Object(mn.a)({},e[y][j],{data:e[y][j].data.map(function(e){return e.comment_id===k?Object(mn.a)({},e,{likes:+e.likes-1,numberLikes:e.numberLikes.filter(function(e){return e.user_id!==_})}):Object(mn.a)({},e)})})))));default:return e}},wn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"socket:INIT_SOCKET":return Object(mn.a)({},n.payload);default:return e}},On=Object(sn.c)({initialDataProfile:pn,userInfo:fn,friendsInfo:xn,search:bn,comments:En,socket:wn}),kn=Object(sn.e)(On,{},Object(sn.d)(Object(sn.a)(ln.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(c.a,{store:kn},r.a.createElement(cn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[50,1,2]]]);
//# sourceMappingURL=main.2ad3017b.chunk.js.map